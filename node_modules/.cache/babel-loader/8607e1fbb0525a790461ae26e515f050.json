{"ast":null,"code":"var _jsxFileName = \"/Users/Stephanie/Desktop/github projects/music_search/src/components/collection-card/CRelatedCardList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport ClassicalCard from './ClassicalCard';\nimport './ClassicalCardListStyles.scss';\n\nconst mapStateToProps = state => {\n  return {\n    cCheckStatus: state.ccheckboxes.cCheckStatus,\n    compositionInfo: state.ccardInfo.ccard_info\n  };\n};\n\nfunction CRelatedCardList(props) {\n  const [composerRelated, setComposerR] = useState([]);\n  const [workRelated, setWorkR] = useState([]);\n  const [genreRelated, setGenreR] = useState([]);\n  useEffect(() => {\n    if (props.cCheckStatus.this_composer) {\n      fetch(`/samecomposer/${props.compositionInfo.composer}`).then(response => response.json()).then(data => {\n        setComposerR(data);\n      });\n    } else {\n      setComposerR([]);\n    }\n\n    ;\n\n    if (props.cCheckStatus.work_type) {\n      fetch(`/sameworktype/${props.compositionInfo.work}`).then(response => response.json()).then(data => {\n        setWorkR(data);\n      });\n    } else {\n      setWorkR([]);\n    }\n\n    ;\n\n    if (props.cCheckStatus.genre) {\n      fetch(`/sameclassicalgenre/${props.compositionInfo.genre}`).then(response => response.json()).then(data => {\n        setGenreR(data);\n      });\n    } else {\n      setGenreR([]);\n    }\n\n    ;\n  }, [props.cCheckStatus, props.compositionInfo]);\n  let count = 0;\n\n  for (let key in props.cCheckStatus) {\n    if (props.cCheckStatus[key] === true) {\n      count = count + 1;\n    }\n\n    ;\n  }\n\n  let r_classicalinfo = [];\n  let combined = [];\n  let result = {};\n\n  if (count === 1) {\n    r_classicalinfo = composerRelated.concat(workRelated, genreRelated);\n  } else {\n    combined = composerRelated.concat(workRelated, genreRelated);\n    combined.forEach(function (item) {\n      result[JSON.stringify(item)] = result[JSON.stringify(item)] ? result[JSON.stringify(item)] + 1 : 1;\n    });\n\n    for (let [key, value] of Object.entries(result)) {\n      if (value === count) {\n        r_classicalinfo.push(JSON.parse(key));\n      }\n\n      ;\n    }\n\n    ;\n  }\n\n  ;\n  return React.createElement(\"div\", {\n    className: \"c-info-preview\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, r_classicalinfo.map((composer, i) => {\n    return React.createElement(ClassicalCard, {\n      key: i,\n      id: r_classicalinfo[i].id,\n      composer: r_classicalinfo[i].composer,\n      name: r_classicalinfo[i].name,\n      work: r_classicalinfo[i].work,\n      genre: r_classicalinfo[i].genre,\n      date: r_classicalinfo[i].date,\n      yt_url: r_classicalinfo[i].youtube,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    });\n  }));\n}\n\nexport default connect(mapStateToProps)(CRelatedCardList);","map":{"version":3,"sources":["/Users/Stephanie/Desktop/github projects/music_search/src/components/collection-card/CRelatedCardList.js"],"names":["React","useEffect","useState","connect","ClassicalCard","mapStateToProps","state","cCheckStatus","ccheckboxes","compositionInfo","ccardInfo","ccard_info","CRelatedCardList","props","composerRelated","setComposerR","workRelated","setWorkR","genreRelated","setGenreR","this_composer","fetch","composer","then","response","json","data","work_type","work","genre","count","key","r_classicalinfo","combined","result","concat","forEach","item","JSON","stringify","value","Object","entries","push","parse","map","i","id","name","date","youtube"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAO,gCAAP;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAClC,SAAO;AACNC,IAAAA,YAAY,EAAED,KAAK,CAACE,WAAN,CAAkBD,YAD1B;AAENE,IAAAA,eAAe,EAAEH,KAAK,CAACI,SAAN,CAAgBC;AAF3B,GAAP;AAIA,CALD;;AAOA,SAASC,gBAAT,CAA2BC,KAA3B,EAAkC;AACjC,QAAM,CAACC,eAAD,EAAkBC,YAAlB,IAAkCb,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACc,WAAD,EAAcC,QAAd,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACgB,YAAD,EAAeC,SAAf,IAA4BjB,QAAQ,CAAC,EAAD,CAA1C;AAECD,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIY,KAAK,CAACN,YAAN,CAAmBa,aAAvB,EAAsC;AACtCC,MAAAA,KAAK,CAAE,iBAAgBR,KAAK,CAACJ,eAAN,CAAsBa,QAAS,EAAjD,CAAL,CACIC,IADJ,CACSC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADrB,EAEIF,IAFJ,CAESG,IAAI,IAAI;AAACX,QAAAA,YAAY,CAACW,IAAD,CAAZ;AAAmB,OAFrC;AAGA,KAJA,MAIM;AACNX,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACA;;AAAA;;AAED,QAAIF,KAAK,CAACN,YAAN,CAAmBoB,SAAvB,EAAkC;AACjCN,MAAAA,KAAK,CAAE,iBAAgBR,KAAK,CAACJ,eAAN,CAAsBmB,IAAK,EAA7C,CAAL,CACIL,IADJ,CACSC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADrB,EAEIF,IAFJ,CAESG,IAAI,IAAI;AAACT,QAAAA,QAAQ,CAACS,IAAD,CAAR;AAAe,OAFjC;AAGA,KAJD,MAIO;AACNT,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACA;;AAAA;;AAED,QAAIJ,KAAK,CAACN,YAAN,CAAmBsB,KAAvB,EAA8B;AAC7BR,MAAAA,KAAK,CAAE,uBAAsBR,KAAK,CAACJ,eAAN,CAAsBoB,KAAM,EAApD,CAAL,CACIN,IADJ,CACSC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADrB,EAEIF,IAFJ,CAESG,IAAI,IAAI;AAACP,QAAAA,SAAS,CAACO,IAAD,CAAT;AAAgB,OAFlC;AAGA,KAJD,MAIO;AACNP,MAAAA,SAAS,CAAC,EAAD,CAAT;AACA;;AAAA;AACA,GAxBQ,EAwBN,CAACN,KAAK,CAACN,YAAP,EAAqBM,KAAK,CAACJ,eAA3B,CAxBM,CAAT;AA0BA,MAAIqB,KAAK,GAAG,CAAZ;;AACA,OAAI,IAAIC,GAAR,IAAelB,KAAK,CAACN,YAArB,EAAkC;AAChC,QAAIM,KAAK,CAACN,YAAN,CAAmBwB,GAAnB,MAA4B,IAAhC,EAAsC;AACrCD,MAAAA,KAAK,GAAGA,KAAK,GAAG,CAAhB;AACA;;AAAA;AACH;;AAED,MAAIE,eAAe,GAAG,EAAtB;AACA,MAAIC,QAAQ,GAAG,EAAf;AACA,MAAIC,MAAM,GAAG,EAAb;;AACA,MAAIJ,KAAK,KAAK,CAAd,EAAgB;AACfE,IAAAA,eAAe,GAAGlB,eAAe,CAACqB,MAAhB,CAAuBnB,WAAvB,EAAoCE,YAApC,CAAlB;AACA,GAFD,MAEO;AACNe,IAAAA,QAAQ,GAAGnB,eAAe,CAACqB,MAAhB,CAAuBnB,WAAvB,EAAoCE,YAApC,CAAX;AACAe,IAAAA,QAAQ,CAACG,OAAT,CAAiB,UAASC,IAAT,EAAe;AAC9BH,MAAAA,MAAM,CAACI,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAD,CAAN,GAA+BH,MAAM,CAACI,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAD,CAAN,GAA+BH,MAAM,CAACI,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAD,CAAN,GAA+B,CAA9D,GAAkE,CAAjG;AACD,KAFD;;AAGA,SAAK,IAAI,CAACN,GAAD,EAAMS,KAAN,CAAT,IAAyBC,MAAM,CAACC,OAAP,CAAeR,MAAf,CAAzB,EAAiD;AAC9C,UAAIM,KAAK,KAAKV,KAAd,EAAqB;AACpBE,QAAAA,eAAe,CAACW,IAAhB,CAAqBL,IAAI,CAACM,KAAL,CAAWb,GAAX,CAArB;AACA;;AAAA;AACH;;AAAA;AACD;;AAAA;AAED,SACC;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEEC,eAAe,CAACa,GAAhB,CAAoB,CAACvB,QAAD,EAAWwB,CAAX,KAAiB;AACpC,WACC,oBAAC,aAAD;AACC,MAAA,GAAG,EAAEA,CADN;AAEC,MAAA,EAAE,EAAEd,eAAe,CAACc,CAAD,CAAf,CAAmBC,EAFxB;AAGC,MAAA,QAAQ,EAAEf,eAAe,CAACc,CAAD,CAAf,CAAmBxB,QAH9B;AAIC,MAAA,IAAI,EAAEU,eAAe,CAACc,CAAD,CAAf,CAAmBE,IAJ1B;AAKC,MAAA,IAAI,EAAEhB,eAAe,CAACc,CAAD,CAAf,CAAmBlB,IAL1B;AAMC,MAAA,KAAK,EAAEI,eAAe,CAACc,CAAD,CAAf,CAAmBjB,KAN3B;AAOC,MAAA,IAAI,EAAEG,eAAe,CAACc,CAAD,CAAf,CAAmBG,IAP1B;AAQC,MAAA,MAAM,EAAEjB,eAAe,CAACc,CAAD,CAAf,CAAmBI,OAR5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD;AAYA,GAbD,CAFF,CADD;AAoBA;;AAGD,eAAe/C,OAAO,CAACE,eAAD,CAAP,CAAyBO,gBAAzB,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport ClassicalCard from './ClassicalCard';\nimport './ClassicalCardListStyles.scss';\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tcCheckStatus: state.ccheckboxes.cCheckStatus,\n\t\tcompositionInfo: state.ccardInfo.ccard_info\n\t}\n}\n\nfunction CRelatedCardList (props) {\n\tconst [composerRelated, setComposerR] = useState([]);\n\tconst [workRelated, setWorkR] = useState([]);\n\tconst [genreRelated, setGenreR] = useState([]);\n\n  useEffect(() => {\n\t  if (props.cCheckStatus.this_composer) {\n\t\t\tfetch(`/samecomposer/${props.compositionInfo.composer}`)\n\t    \t.then(response => response.json())\n\t    \t.then(data => {setComposerR(data)});\n\t\t} else {\n\t\t\tsetComposerR([]);\n\t\t};\n\n\t\tif (props.cCheckStatus.work_type) {\n\t\t\tfetch(`/sameworktype/${props.compositionInfo.work}`)\n\t    \t.then(response => response.json())\n\t    \t.then(data => {setWorkR(data)});\n\t\t} else {\n\t\t\tsetWorkR([]);\n\t\t};\n\n\t\tif (props.cCheckStatus.genre) {\n\t\t\tfetch(`/sameclassicalgenre/${props.compositionInfo.genre}`)\n\t    \t.then(response => response.json())\n\t    \t.then(data => {setGenreR(data)});\n\t\t} else {\n\t\t\tsetGenreR([]);\n\t\t};\n  }, [props.cCheckStatus, props.compositionInfo]);\n\n  let count = 0;\n  for(let key in props.cCheckStatus){\n    if (props.cCheckStatus[key] === true) {\n    \tcount = count + 1;\n    };\n\t}\n\n\tlet r_classicalinfo = [];\n\tlet combined = [];\n\tlet result = {};\n\tif (count === 1){\n\t\tr_classicalinfo = composerRelated.concat(workRelated, genreRelated);\n\t} else {\n\t\tcombined = composerRelated.concat(workRelated, genreRelated);\n\t\tcombined.forEach(function(item) {\n\t\t  result[JSON.stringify(item)] = result[JSON.stringify(item)] ? result[JSON.stringify(item)] + 1 : 1;\n\t\t});\n\t\tfor (let [key, value] of Object.entries(result)) {\n\t    if (value === count) {\n\t    \tr_classicalinfo.push(JSON.parse(key));\n\t    };\n\t\t};\n\t};\n\n\treturn(\n\t\t<div className='c-info-preview'>\n\t\t\t{\n\t\t\t\tr_classicalinfo.map((composer, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ClassicalCard \n\t\t\t\t\t\t\tkey={i} \n\t\t\t\t\t\t\tid={r_classicalinfo[i].id} \n\t\t\t\t\t\t\tcomposer={r_classicalinfo[i].composer} \n\t\t\t\t\t\t\tname={r_classicalinfo[i].name}\n\t\t\t\t\t\t\twork={r_classicalinfo[i].work}\n\t\t\t\t\t\t\tgenre={r_classicalinfo[i].genre}\n\t\t\t\t\t\t\tdate={r_classicalinfo[i].date} \n\t\t\t\t\t\t\tyt_url={r_classicalinfo[i].youtube}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t}\n\t   </div> \n\t);\n}\n\n\nexport default connect(mapStateToProps)(CRelatedCardList);\n"]},"metadata":{},"sourceType":"module"}